extends /_templates/layout.pug
include /_templates/mixins.pug

block content
    if self.data.locations
        h3#loading.sub_section_headline(style='display: grid; padding-top: 155px;')= self.label.filters.loading

        .grid_search#filters(style='display: none;')

            input#search(type='text', placeholder= self.label.filters.search)

            select#names_select(name='Names')
                option(value='')= self.label.filters.name
                if self.data.filters.names
                    each index, key in self.data.filters.names
                        option(value=key)= index

            select#addresses_select(name='Address')
                option(value='')= self.label.filters.addresses
                if self.data.filters.addresses
                    each index, key in self.data.filters.addresses
                        option(value=key)= index


            button.clear(onclick='unselect_all()')= self.label.filters.empty

            h3#nonetoshow.sub_section_headline(style='display: none;')


        if self.data.locations && self.data.locations.length
            section.team
                .sub_team
                    each location in self.data.locations
                        if location.slug
                            p= location.slug

                        //-                     if person && person.firstNameLastName
                        //-                         .person(id=person.id)
                        //-                             a(href=`/${lang_path}${person.slug}`)
                        //-                                 .person_head
                        //-                                     - var assetsDir = 'https://assets.poff.ee/img/'
                        //-                                     if person.picture
                        //-                                         //- - var personPic = assetsDir + person.picture
                        //-                                         - var personPic = `${assetsDir}${person.picture.hash}${person.picture.ext}`
                        //-                                     else
                        //-                                         - var personPic ='/assets/img/static/hunt_square_placeholder.jpg'

                        //-                                     img.person_img(src=personPic alt=`${person.firstName ? person.firstName : ''} ${person.lastName ? person.lastName : ''}`)


                        //-                                     .person_body.text_center
                        //-                                         h4.text_center= `${person.firstName ? person.firstName : ''} ${person.lastName ? person.lastName : ''}`

                        //-                                         if person.role_at_films
                        //-                                             p= person.role_at_films.map(roleName => roleName.roleName).join(', ')

                        //-                                         if person.industry_person_types
                        //-                                             p= person.industry_person_types.map(type => type.type).join(', ')
                                                //- p
                                                    //- span= (person.profession)
                                                //- p= person.industry_person_types.map(industry_person_types => industry_person_types.type).join(', ')
                                                    //- span= (person.profession)
                                                    //- br
                                                    //- if person.emailAtTeam
                                                    //-     span= (person.emailAtTeam)
                                                    //- else
                                                    //-     span= (person.eMail)
                                                    //- br
                                                    //- if person.phoneAtInd
                                                    //-     span= (person.phoneAtInd)
                                                    //- else
                                                    //-     span= (person.phoneNr)
                                                    //- br
                                                    //- span= (person.website)
                                                    //- br
                    script.

                        var searcharray = !{JSON.stringify(self.data.search)}
                        var filters = !{JSON.stringify(self.data.filters)}
