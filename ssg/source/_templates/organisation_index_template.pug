extends /_templates/layout.pug
include /_templates/mixins.pug

block content
    - var assetsDir = 'https://assets.poff.ee/img/'
    - var audioDir = 'https://assets.poff.ee/img/'

    if self.name
        section.grid_org_creative.org_grid_main
            if self.profile_img
                section.c_profile_img
                    if self.profile_img
                        - var orgProfile = `${assetsDir}${self.profile_img.hash}${self.profile_img.ext}`
                    else
                        - var orgProfile ='/assets/img/static/hunt_square_placeholder.jpg'

                    img.org_img(src=orgProfile alt=self.name)

            section.c_title_box
                .name_box
                    .organisation_name= self.name

                section.accounts_box
                    if self.acc_efis
                        a.org_info_value(href= self.acc_efis target="_BLANK" title="EFIS account")
                            <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="1,5" fill="none" stroke-linecap="round" stroke-linejoin="round" class="feather">
                                <path class="st0" d="M10.5,16.5c1.5-0.8,3.3-0.3,4.2,1.1c0.2,0.3,0.3,0.6,0.3,0.9c-2,0.9-4.2,0.9-6,0C9.2,17.6,9.7,16.9,10.5,16.5z"/>
                                <path class="st0" d="M8.5,14c0.7,1.3,0.5,2.9-0.6,3.8c-0.8-0.6-1.5-1.3-2.1-2.3c-0.5-0.9-0.8-1.9-0.9-2.9C6.3,12.2,7.8,12.7,8.5,14z"/>
                                <path class="st0" d="M13.7,11c0.5,0.9,0.2,2.1-0.7,2.7c-0.9,0.5-2.1,0.2-2.7-0.7c-0.5-0.9-0.2-2.1,0.7-2.6C12,9.8,13.1,10.1,13.7,11z"/>
                                <path class="st0" d="M4.9,11.4c0.2-2,1.2-4,3-5.2c0.2,0.2,0.4,0.4,0.6,0.7c0.8,1.5,0.3,3.4-1.1,4.2C6.6,11.6,5.7,11.6,4.9,11.4z"/>
                                <path class="st0" d="M15,18.4c0.3,1.3-0.3,2.6-1.5,3.3c-1.5,0.8-3.4,0.3-4.2-1.1C8.9,20,8.8,19.2,9,18.5C10.8,19.3,13,19.4,15,18.4z"/>
                                <path class="st0" d="M4.3,5.8C5.5,5.1,7,5.3,7.9,6.2c-1.8,1.2-2.8,3.2-3,5.2c-0.7-0.2-1.3-0.7-1.7-1.4C2.3,8.5,2.8,6.6,4.3,5.8z"/>
                                <path class="st1" d="M13,13.7c0.9-0.5,1.2-1.7,0.7-2.7c-0.5-0.9-1.7-1.2-2.6-0.7c-0.9,0.5-1.2,1.7-0.7,2.6C10.9,13.9,12,14.2,13,13.7z M21.5,6.5c-3-5.3-9.8-7.1-15-4c-5.3,3-7.1,9.8-4,15s9.8,7.1,15,4C22.8,18.5,24.6,11.8,21.5,6.5zM16.1,17.8c1,0.9,2.4,1.1,3.6,0.4c1.5-0.8,2-2.7,1.1-4.2c-0.4-0.7-1-1.2-1.7-1.4c-0.8-0.3-1.7-0.2-2.5,0.3c-1.5,0.9-2,2.7-1.1,4.2C15.7,17.4,15.9,17.6,16.1,17.8z M9,18.5c0.2-0.8,0.7-1.5,1.5-2c1.5-0.8,3.3-0.3,4.2,1.1c0.2,0.3,0.3,0.6,0.3,0.9c0.3,1.3-0.3,2.6-1.5,3.3c-1.5,0.8-3.4,0.3-4.2-1.1C8.9,20,8.8,19.2,9,18.5z M4.9,11.4c0.8,0.3,1.7,0.2,2.5-0.3c1.5-0.8,2-2.7,1.1-4.2C8.3,6.6,8.1,6.4,7.9,6.2C7,5.3,5.5,5.1,4.3,5.8c-1.5,0.9-2,2.7-1.1,4.2C3.6,10.7,4.2,11.1,4.9,11.4zM4.9,12.6c-0.2,0.1-0.4,0.2-0.6,0.3c-1.5,0.9-2,2.7-1.1,4.2c0.8,1.5,2.7,2,4.2,1.1c0.2-0.1,0.4-0.2,0.5-0.4c1-0.9,1.3-2.5,0.6-3.8C7.8,12.7,6.3,12.2,4.9,12.6z M16.1,6.2c-1,1-1.3,2.5-0.6,3.8c0.7,1.3,2.2,1.8,3.6,1.4c0.2-0.1,0.4-0.2,0.6-0.3c1.5-0.8,2-2.7,1.1-4.2c-0.8-1.5-2.7-2-4.2-1.1C16.4,5.9,16.3,6,16.1,6.2z M9,5.5c-0.3-1.3,0.3-2.6,1.5-3.3c1.5-0.8,3.3-0.3,4.2,1.1C15.1,4,15.2,4.8,15,5.5c-0.2,0.8-0.7,1.5-1.5,2c-1.5,0.8-3.4,0.3-4.2-1.1C9.2,6.1,9.1,5.8,9,5.5z"/>
                                <path class="st0" d="M9,5.5c2-0.9,4.2-0.9,6,0c-0.2,0.8-0.7,1.5-1.5,2c-1.5,0.8-3.4,0.3-4.2-1.1C9.2,6.1,9.1,5.8,9,5.5z"/>
                                <path class="st0" d="M15.5,17.1c-0.8-1.5-0.3-3.3,1.1-4.2c0.8-0.4,1.7-0.5,2.5-0.3c-0.2,2-1.2,4-3,5.2C15.9,17.6,15.7,17.4,15.5,17.1z"/>
                                <path class="st0" d="M18.2,8.4c0.5,0.9,0.8,1.9,0.9,2.9c-1.3,0.4-2.9-0.1-3.6-1.4c-0.7-1.3-0.5-2.9,0.6-3.8C16.9,6.7,17.6,7.5,18.2,8.4z"/>
                                <path class="st0" d="M20.8,14c0.9,1.5,0.3,3.4-1.1,4.2c-1.2,0.7-2.6,0.5-3.6-0.4c1.8-1.2,2.8-3.2,3-5.2C19.8,12.9,20.4,13.3,20.8,14z"/>
                                <path class="st0" d="M5.8,15.6c0.5,0.9,1.3,1.7,2.1,2.3c-0.2,0.1-0.3,0.3-0.5,0.4c-1.5,0.8-3.3,0.3-4.2-1.1c-0.9-1.5-0.3-3.3,1.1-4.2c0.2-0.1,0.4-0.2,0.6-0.3C5,13.6,5.3,14.6,5.8,15.6z"/>
                                <path class="st0" d="M20.8,6.9c0.9,1.5,0.3,3.4-1.1,4.2c-0.2,0.1-0.4,0.2-0.6,0.3c-0.1-1-0.4-2-0.9-2.9c-0.5-0.9-1.3-1.7-2.1-2.3c0.2-0.1,0.3-0.3,0.5-0.4C18.1,4.9,20,5.4,20.8,6.9z"/>
                                <path class="st0" d="M15,5.5c-1.9-0.9-4-0.9-6,0c-0.3-1.3,0.3-2.6,1.5-3.3c1.5-0.8,3.3-0.3,4.2,1.1C15.1,4,15.2,4.8,15,5.5z"/>
                            </svg>

                    if self.acc_imdb
                        a.org_info_value(href= self.acc_imdb target="_BLANK" title="IMDB account")
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="none" stroke-width="0" stroke-linecap="round" stroke-linejoin="round" class="feather">
                                <g>
                                    <g>
                                        <g>
                                            <path id="g5jjnq26yS" d="M1,7.7h2.3v8.8H1V7.7z"/>
                                        </g>
                                        <g>
                                            <g>
                                                <path id="g5jjnq26yS_00000178910103224912196540000008905399311887261851_" class="st0" d="M1,7.7h2.3v8.8H1V7.7z"/>
                                            </g>
                                        </g>
                                    </g>
                                    <g>
                                        <g>
                                            <path id="i3Prh1JpXt" d="M7.6,11.7c-0.2-1.3-0.3-2.1-0.3-2.2C7.2,8.8,7.1,8.2,7,7.6c-0.2,0-1.2,0-3,0v8.8h2l0-5.8l0.8,5.8h1.4l0.8-5.9l0,5.9h2V7.6h-3L7.6,11.7z"/>
                                        </g>
                                        <g>
                                            <g>
                                                <path id="i3Prh1JpXt_00000019672061276087835140000007516017673381424263_" class="st0" d="M7.6,11.7c-0.2-1.3-0.3-2.1-0.3-2.2C7.2,8.8,7.1,8.2,7,7.6c-0.2,0-1.2,0-3,0v8.8h2l0-5.8l0.8,5.8h1.4l0.8-5.9l0,5.9h2V7.6h-3L7.6,11.7z"/>
                                            </g>
                                        </g>
                                    </g>
                                    <g>
                                        <g>
                                            <path id="a4ov9rRGQm" d="M14.8,9.4c0,0.1,0,0.4,0,0.8c0,0.3,0,3.1,0,3.4c0,0.6,0,0.9-0.1,1.1c-0.1,0.1-0.3,0.2-0.6,0.2c0-0.6,0-5.2,0-5.8c0.2,0,0.4,0,0.5,0.1C14.8,9.3,14.8,9.3,14.8,9.4z M15.9,16.3c0.3-0.1,0.5-0.2,0.7-0.3c0.2-0.1,0.3-0.4,0.4-0.6c0.1-0.3,0.1-0.8,0.1-1.6c0-0.3,0-2.8,0-3.1c0-0.8,0-1.4-0.1-1.7c-0.1-0.3-0.2-0.5-0.4-0.8c-0.2-0.2-0.5-0.4-0.9-0.5c-0.4-0.1-1-0.2-2.1-0.2c-0.1,0-0.7,0-1.7,0v8.8h2.8C15.3,16.4,15.7,16.3,15.9,16.3z"/>
                                        </g>
                                        <g>
                                            <g>
                                                <path id="a4ov9rRGQm_00000156584386858458344000000001649451872047019418_" class="st0" d="M14.8,9.4c0,0.1,0,0.4,0,0.8c0,0.3,0,3.1,0,3.4c0,0.6,0,0.9-0.1,1.1c-0.1,0.1-0.3,0.2-0.6,0.2c0-0.6,0-5.2,0-5.8c0.2,0,0.4,0,0.5,0.1C14.8,9.3,14.8,9.3,14.8,9.4z M15.9,16.3c0.3-0.1,0.5-0.2,0.7-0.3c0.2-0.1,0.3-0.4,0.4-0.6c0.1-0.3,0.1-0.8,0.1-1.6c0-0.3,0-2.8,0-3.1c0-0.8,0-1.4-0.1-1.7c-0.1-0.3-0.2-0.5-0.4-0.8c-0.2-0.2-0.5-0.4-0.9-0.5c-0.4-0.1-1-0.2-2.1-0.2c-0.1,0-0.7,0-1.7,0v8.8h2.8C15.3,16.4,15.7,16.3,15.9,16.3z"/>
                                            </g>
                                        </g>
                                    </g>
                                    <g>
                                        <g>
                                            <path id="fk968BpsX" d="M20.7,15c0,0.1-0.2,0.2-0.4,0.2c-0.1,0-0.2-0.1-0.3-0.2c0-0.1-0.1-0.4-0.1-0.7c0-0.2,0-2.1,0-2.3c0-0.4,0-0.6,0.1-0.7c0-0.1,0.1-0.1,0.3-0.1c0.1,0,0.3,0.1,0.4,0.2c0,0.1,0.1,0.4,0.1,0.7c0,0.1,0,0.9,0,2.2C20.8,14.7,20.8,14.9,20.7,15z M17.8,16.3h2.1C20,16,20,15.8,20,15.8c0.2,0.2,0.4,0.4,0.6,0.5c0.2,0.1,0.6,0.2,0.8,0.2c0.4,0,0.7-0.1,0.9-0.3c0.3-0.2,0.4-0.4,0.5-0.7c0.1-0.3,0.1-0.6,0.1-1.2c0-0.2,0-2.2,0-2.5c0-0.5,0-0.9,0-1c0-0.2-0.1-0.3-0.2-0.5c-0.1-0.2-0.3-0.3-0.5-0.4s-0.5-0.1-0.8-0.1c-0.3,0-0.6,0.1-0.8,0.2c-0.2,0.1-0.4,0.3-0.6,0.5c0-0.2,0-1.1,0-2.9h-2.2V16.3z"/>
                                        </g>
                                        <g>
                                            <g>
                                                <path id="fk968BpsX_00000039834499808731395540000016752761971114247351_" class="st0" d="M20.7,15c0,0.1-0.2,0.2-0.4,0.2c-0.1,0-0.2-0.1-0.3-0.2c0-0.1-0.1-0.4-0.1-0.7c0-0.2,0-2.1,0-2.3c0-0.4,0-0.6,0.1-0.7c0-0.1,0.1-0.1,0.3-0.1c0.1,0,0.3,0.1,0.4,0.2c0,0.1,0.1,0.4,0.1,0.7c0,0.1,0,0.9,0,2.2C20.8,14.7,20.8,14.9,20.7,15z M17.8,16.3h2.1C20,16,20,15.8,20,15.8c0.2,0.2,0.4,0.4,0.6,0.5c0.2,0.1,0.6,0.2,0.8,0.2c0.4,0,0.7-0.1,0.9-0.3c0.3-0.2,0.4-0.4,0.5-0.7c0.1-0.3,0.1-0.6,0.1-1.2c0-0.2,0-2.2,0-2.5c0-0.5,0-0.9,0-1c0-0.2-0.1-0.3-0.2-0.5c-0.1-0.2-0.3-0.3-0.5-0.4s-0.5-0.1-0.8-0.1c-0.3,0-0.6,0.1-0.8,0.2c-0.2,0.1-0.4,0.3-0.6,0.5c0-0.2,0-1.1,0-2.9h-2.2V16.3z"/>
                                            </g>
                                        </g>
                                    </g>
                                </g>
                            </svg>

                    if self.acc_youtube
                        a.org_info_value(href= self.acc_youtube target="_BLANK" title="YoutTube account")
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-youtube"><path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"></path><polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"></polygon></svg>
                    if self.acc_vimeo
                        a.org_info_value(href= self.acc_vimeo target="_BLANK" title="Vimeo account")
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="feather"><path d="M22.875 10.063c-2.442 5.217-8.337 12.319-12.063 12.319-3.672 0-4.203-7.831-6.208-13.043-.987-2.565-1.624-1.976-3.474-.681l-1.128-1.455c2.698-2.372 5.398-5.127 7.057-5.28 1.868-.179 3.018 1.098 3.448 3.832.568 3.593 1.362 9.17 2.748 9.17 1.08 0 3.741-4.424 3.878-6.006.243-2.316-1.703-2.386-3.392-1.663 2.673-8.754 13.793-7.142 9.134 2.807z"/></svg>
                    if self.acc_instagram
                        a.org_info_value(href= self.acc_instagram target="_BLANK" title="Instagram account")
                            <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="1,5" fill="none" stroke-linecap="round" stroke-linejoin="round" class="feather"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></svg>
                    if self.acc_fb
                        a.org_info_value(href= self.acc_fb target="_BLANK" title="Facebook account")
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1,5" stroke-linecap="round" stroke-linejoin="round" class="feather"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg>
                    if self.acc_other
                        a.org_info_value(href= self.acc_other target="_BLANK" title="Account")
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1,5" stroke-linecap="round" stroke-linejoin="round" class="feather"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg>
                    if self.homepageUrl
                        a.org_info_value(href= self.homepageUrl target="_BLANK" title="Webpage")
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1,5" stroke-linecap="round" stroke-linejoin="round" class="feather"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>

            section.c_img_box
                if self.logoColour
                    - var orgLogo = `${assetsDir}${self.logoColour.hash}${self.logoColour.ext}`
                else
                    - var orgLogo ='/assets/img/static/hunt_square_placeholder.jpg'

                img.org_img(src=orgLogo alt=self.name)

        section.grid_org_creative.org_grid_about

            section.org_info
                .org_info_header="Info"

                if self.employees_n
                    .str_info_grid_3
                        .org_info_label= "Employees"
                        .org_info_value= self.employees_n

                if self.h_rate_from && self.h_rate_to
                    .str_info_grid_3
                        .org_info_label= "Hourly Rate"
                        .org_info_value= self.h_rate_from + " - " + self.h_rate_to + " â‚¬"

                if self.addr_coll
                    - var addrArray = []

                    if self.addr_coll.street_name
                        - addrArray.push(self.addr_coll.street_name)

                    if self.addr_coll.postal_code
                        - addrArray.push(self.addr_coll.postal_code)

                    if self.addr_coll.county && self.addr_coll.county.name
                        - addrArray.push(self.addr_coll.county.name)

                    if self.addr_coll.country && self.addr_coll.country.name
                        - addrArray.push(self.addr_coll.country.name)

                    .str_info_grid_3
                        .org_info_label= "Address"
                        .org_info_value= addrArray.join(', ')

                if self.eMail
                    .str_info_grid_3
                        .org_info_label= "Email"
                        .org_info_value= self.eMail

                if self.phoneNr
                    .str_info_grid_3
                        .org_info_label= "Phone"
                        .org_info_value= self.phoneNr

                if self.homepageUrl
                    .str_info_grid_3
                        .org_info_label= "www"
                        .org_info_value= self.homepageUrl


            section.org_ongoing
                .org_info_header= "Ongoing projects"


            section.org_skills
                .org_info_header= "Skills"
                if self.skills
                    .org_info_value=self.skills


        <hr style="border-bottom: 2px solid #bbb">

        section.grid_org_creative.org_grid_description
            section.org_description
                .organisation_description= self.description

        <hr style="border-bottom: 2px solid #bbb">

        section.grid_org_creative.org_grid_featured
            section.org_featured
                .org_info_header="Featured"


        <hr style="border-bottom: 2px solid #bbb">

        section.grid_org_creative.org_grid_work
            section.org_awards
                .org_info_header="Awards"

                if self.awardings
                    each award in self.awardings
                        .str_info_grid_3
                            .years_grid
                                .year_to
                                    if award.year
                                        .org_info_label.text_right= award.year

                            .org_info_value= award.title

            section.org_clients
                .org_info_header="Clients"

                if self.clients
                    each client in self.clients
                        .str_info_grid_3
                            .org_info_value.grid-start-2= client.name

            section.org_media_audio
                if self.audioreel
                    - var audioUrl = `${assetsDir}${self.audioreel.hash}${self.audioreel.ext}`
                    .str_info_grid_3
                        .org_info_label= "Audioreel"
                        .org_info_value
                            figure
                                audio(src=audioUrl controls)

            section.org_media_video
                if self.showreel
                    section#trailer.c_showreel_box.bg_fwhite.bg_dark_4
                        .ratio.ratio-16x9.m-0.p-0
                            +video(self.showreel)

            section.org_filmography
                .org_info_header="Filmography"

                if self.filmographies
                    each filmography in self.filmographies
                        .str_info_grid_3
                            .years_grid
                                .year_from
                                    if filmography.year_from
                                        .person_label= filmography.year_from
                                .year_dash
                                    if filmography.year_from
                                        .person_label
                                            | -
                                .year_to
                                    if filmography.year_to
                                        .person_label= filmography.year_to

                            .org_info_value= filmography.work_name



        <hr style="border-bottom: 2px solid #bbb">

        section.grid_org_creative.org_grid_footer
            section.org_gallery
                if self.images
                    each val, index in self.images
                        img.org_gallery_img(src=`${assetsDir}${val.hash}${val.ext}` alt=self.name)


            section.org_contact
                .org_info_value= "Have a quoestion about my work? Interested in a collaboration?"
                button.btn.btn_primary.btn_organisation(onclick=`window.location = "mailto:${self.eMail}"`)= "Send me an email!"
